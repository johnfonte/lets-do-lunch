<script type="text/javascript">
$(document).ready(function () {
	$(".like").click(function (evt) {
		$(".signup" + evt.target.id).toggle();
	});

	$(":submit").click(function(event) {
		alert(event.target.name);
		$("#signup").val(this.name);
	});
	$("#signup").click(function() {
		$(".signup").hide();
	});
	$(".leaveComment").click(function() {
		$(".toggleArea").slideToggle();
	});
});
</script>

<div class="container">
	<h2>Who wants to have...</h2>
    <ul class="items">
    <? $counter = 0; ?>
    <? foreach($eventList as $event){ ?>
    	<li>
        	<span class="details">
        		Lunch at <strong><?=$event->{'location'}?></strong> at <strong><?=$event->{'time'}?></strong>
            </span>
            <div class="numLikes">
            	<span class="number"><?=count($event->{'people'}) ?></span>
            	<button class="like" id="<?=$counter ?>"><span class="icon icon-like2"></span></button>
            </div>
            <div class="signup<?=$counter ?>" style="display: none">
            	<span class="arrow"></span>
                <form onsubmit="addPersonToExistingEvent(evt)" id="<?=$counter ?>">
                    <label for="name">Your Name</label>
                    <input id="name<?=$counter ?>" type="text"/>
                    <input id="id<?=$counter ?>" type="hidden" value="<?=$event->{'id'} ?>">
                <br />
                <button class="floatR" type="submit" name="<?=$counter ?>">Sign Up</button>
                 </form>
            </div>
        <? $counter++; ?>
     <? } ?>
            <div class="attending">
            	<strong>Attending:</strong> Bill H., Joe Shaefer, Billy, JimBob
            </div>    
            
            <div class="hr"></div>

            <form>
            	<label class="link leaveComment" for="comment">Leave a Comment &#9660;</label>
                <div class="toggleArea">
                	<textarea id="submit"></textarea>
                	<button class="btn-subtle floatR marginT" id="commentSubmit" type="submit">Submit Comment</button>
                	<div class="clear"></div>
                </div>
            </form>
            
            <div class="signup">
            	<span class="arrow"></span>
                <form>
                    <input class="lg" id="name" placeholder="Your Name" type="text" />
                    <button id="signup" type="submit">Sign Up</button>
                </form>
            </div>
        </li>
    </ul>
    
    <h2>Create Lunch Event</h2>
    <form class="createItem" onsubmit="createNewEvent()">
    
    	<label class="special" for="organizer">Name</label>
        <input class="lg" id="organizer" placeholder="first, last, nickname, whatever" type="text" />
        
        <br />
        
    	<label class="marginT special" for="restaurant">Place</label>
        <input class="marginT lg" id="restaurant" placeholder="Restaurant" type="text" />
        
        <label class="marginT default" for="time">at</label>
        <input class="marginT sm" id="time" placeholder="time" type="text" />
        <br />
        
        <label class="marginT special" for="message" style="vertical-align: top;">Comment</label>
        <textarea class="marginT"></textarea>
        
		<button class="floatR" type="submit">Create</button>
        <div class="clear"></div>

    </form>
    
</div>
